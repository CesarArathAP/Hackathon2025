<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Diagn칩stico Catastral</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet"/>

  <style>
    :root {
      --brand: #2f9e44;
      --brand-dark: #1e7a33;
      --brand-light: #e9f7ef;
    }
    body {
      background: #f5f6f5;
    }
    .form-section {
      border-left: 5px solid var(--brand);
      padding-left: 15px;
    }
    .btn-brand {
      background: var(--brand);
      color: white;
    }
    .btn-brand:hover {
      background: var(--brand-dark);
      color: white;
    }
    #output {
      background: #ffffff;
      padding: 25px;
      border-radius: 12px;
      border: 1px solid #e2e2e2;
      margin-top: 25px;
    }
  </style>
</head>

<body>

  <main class="py-5">
    <div class="container">

      <div class="row justify-content-center">
        <div class="col-lg-10">

          <h1 class="text-center text-success fw-bold mb-4">Diagn칩stico Catastral Autom치tico 游늵</h1>

          <form id="catastroForm" class="bg-white p-4 p-md-5 shadow-lg rounded">

            <h3 class="form-section text-success mb-4">Cartograf칤a y Campo</h3>

            <!-- Pregunta 1 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮼l municipio cuenta con mapas y ortofotos actualizadas de su territorio?</label>
              <select id="mapas_actualizados" name="mapas_actualizados" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="s칤">S칤</option>
                <option value="no">No</option>
                <option value="parcial">Parcial</option>
              </select>
            </div>

            <!-- Pregunta 2 (principal) -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮺u치ndo fue la 칰ltima vez que se actualiz칩 la cartograf칤a oficial?</label>
              <input type="text" id="ultima_actualizacion_cartografia" name="ultima_actualizacion_cartografia" class="form-control">
            </div>

            <!-- Pregunta 3 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">Realizan inspecciones de campo?</label>
              <select id="inspecciones_campo" name="inspecciones_campo" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="s칤">S칤</option>
                <option value="no">No</option>
              </select>
            </div>

            <!-- Preguntas 3 secundarias -->
            <div class="mb-3" id="frecuencia_inspecciones_div" style="display:none;">
              <label class="form-label fw-semibold">쮺on qu칠 frecuencia?</label>
              <input type="text" id="frecuencia_inspecciones" name="frecuencia_inspecciones" class="form-control">
            </div>

            <div class="mb-3" id="personal_inspecciones_div" style="display:none;">
              <label class="form-label fw-semibold">쯏 con qu칠 personal o equipo?</label>
              <input type="text" id="personal_inspecciones" name="personal_inspecciones" class="form-control">
            </div>

            <!-- Pregunta 4 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮺onsideran que su padr칩n catastral coincide con la cartograf칤a?</label>
              <select id="coincide_padron" name="coincide_padron" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="s칤">S칤</option>
                <option value="no">No</option>
              </select>
            </div>

            <!-- Pregunta 4 secundaria -->
            <div class="mb-3" id="porcentaje_coincidencia_div" style="display:none;">
              <label class="form-label fw-semibold">쮼n qu칠 porcentaje estiman esa coincidencia?</label>
              <input type="number" id="porcentaje_coincidencia" name="porcentaje_coincidencia" class="form-control" min="0" max="100">
            </div>

            <!-- Pregunta 5 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮼l sistema de gesti칩n catastral que utilizan actualmente es suficiente o buscan una plataforma m치s eficiente?</label>
              <textarea id="sistema_gestion" name="sistema_gestion" class="form-control" rows="2"></textarea>
            </div>

            <!-- Pregunta 6 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쯃a documentaci칩n del catastro se encuentra en archivo f칤sico, digital o en ambos formatos?</label>
              <select id="documentacion_formato" name="documentacion_formato" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="f칤sico">F칤sico</option>
                <option value="digital">Digital</option>
                <option value="ambos">Ambos</option>
              </select>
            </div>

            <!-- Pregunta 7 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮺uentan con un SIG multifinalitario para compartir y consultar la informaci칩n catastral en un solo lugar?</label>
              <select id="sig_multifinalitario" name="sig_multifinalitario" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="s칤">S칤</option>
                <option value="no">No</option>
              </select>
            </div>

            <!-- Pregunta 8 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮼xisten problemas de duplicidad, errores o datos incompletos en los registros del catastro?</label>
              <textarea id="problemas_registros" name="problemas_registros" class="form-control" rows="2"></textarea>
            </div>

            <!-- Pregunta 9 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮺u치les son los principales problemas o limitaciones que enfrentan en la administraci칩n de la informaci칩n catastral?</label>
              <textarea id="limitaciones_admin" name="limitaciones_admin" class="form-control" rows="2"></textarea>
            </div>

            <!-- Pregunta 10 -->
            <div class="mb-3">
              <label class="form-label fw-semibold">쮼l personal tarda mucho tiempo en localizar expedientes o documentos cuando se requieren?</label>
              <select id="tiempo_localizar" name="tiempo_localizar" class="form-select" required>
                <option value="">Selecciona</option>
                <option value="s칤">S칤</option>
                <option value="no">No</option>
              </select>
            </div>

            <!-- BOT칍N PARA GUARDAR Y IR A Ofrecemos -->
            <div class="text-center mt-4">
              <button type="button" id="guardarRespuestas" class="btn btn-success btn-lg">Guardar Respuestas y Continuar</button>
            </div>

          </form>

        </div>
      </div>

    </div>
  </main>

  <script>
    // Mostrar/ocultar preguntas secundarias
    document.getElementById('inspecciones_campo').addEventListener('change', function() {
      const show = this.value === 's칤';
      document.getElementById('frecuencia_inspecciones_div').style.display = show ? 'block' : 'none';
      document.getElementById('personal_inspecciones_div').style.display = show ? 'block' : 'none';
    });

    document.getElementById('coincide_padron').addEventListener('change', function() {
      document.getElementById('porcentaje_coincidencia_div').style.display = this.value === 's칤' ? 'block' : 'none';
    });

    // Guardar respuestas en localStorage
    document.getElementById('guardarRespuestas').addEventListener('click', () => {
      const form = document.getElementById('catastroForm');
      const data = {};
      form.querySelectorAll('input, select, textarea').forEach(el => {
        data[el.name] = el.value;
      });
      localStorage.setItem('catastroForm', JSON.stringify(data));
      window.location.href = '/ofrecemos.html';
    });
  </script>

</body>
</html>